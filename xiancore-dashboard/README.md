# XianCore Dashboard

<div align="center">

**XianCore ä¿®ä»™æ’ä»¶ç®¡ç†åå°**

åŸºäº Vue 3 + Element Plus + Express + Prisma æ„å»ºçš„å…¨æ ˆ TypeScript é¡¹ç›®

[å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—) â€¢ [API æ–‡æ¡£](#api-æ–‡æ¡£)

</div>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å‰ç½®è¦æ±‚](#å‰ç½®è¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¯ç”¨å‘½ä»¤](#å¯ç”¨å‘½ä»¤)
- [API æ–‡æ¡£](#api-æ–‡æ¡£)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

XianCore Dashboard æ˜¯ä¸º Minecraft ä¿®ä»™æ’ä»¶ XianCore å¼€å‘çš„ Web ç®¡ç†åå°ï¼Œæä¾›ï¼š

- ğŸ“Š **å®æ—¶æ•°æ®å±•ç¤º** - ç©å®¶æ•°æ®ã€å®—é—¨ä¿¡æ¯ã€æ’è¡Œæ¦œ
- ğŸ‘¥ **ç©å®¶ç®¡ç†** - æŸ¥çœ‹ç©å®¶è¯¦æƒ…ã€ç­‰çº§ã€å¢ƒç•Œã€çµæ ¹ç­‰ä¿¡æ¯
- ğŸ›ï¸ **å®—é—¨ç®¡ç†** - ç®¡ç†å®—é—¨æˆå‘˜ã€è®¾æ–½ã€ä»“åº“
- ğŸ† **æ’è¡Œæ¦œç³»ç»Ÿ** - ç©å®¶ç­‰çº§æ¦œã€å®—é—¨ç­‰çº§æ¦œ
- ğŸ’¾ **æ•°æ®åº“ç›´è¿** - æ— éœ€ Minecraft æœåŠ¡å™¨åœ¨çº¿ï¼Œç›´æ¥è¯»å– MySQL æ•°æ®åº“

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… **å…¨æ ˆ TypeScript** - ç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½
- âœ… **Monorepo æ¶æ„** - å‰åç«¯ä»£ç ç»Ÿä¸€ç®¡ç†
- âœ… **ç°ä»£åŒ– UI** - Element Plus ç»„ä»¶åº“ï¼Œå“åº”å¼è®¾è®¡
- âœ… **ORM æ”¯æŒ** - Prisma ORMï¼Œç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®
- âœ… **çƒ­é‡è½½** - å¼€å‘æ—¶è‡ªåŠ¨åˆ·æ–°ï¼Œæå‡å¼€å‘æ•ˆç‡
- âœ… **API æ–‡æ¡£** - RESTful API è®¾è®¡ï¼Œæ¸…æ™°çš„æ¥å£å®šä¹‰

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Vue 3 (Composition API)
- **UI åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **æ„å»ºå·¥å…·**: Vite 6
- **HTTP å®¢æˆ·ç«¯**: Axios
- **è¯­è¨€**: TypeScript

### åç«¯
- **è¿è¡Œæ—¶**: Node.js (>=20.10.0)
- **æ¡†æ¶**: Express.js
- **ORM**: Prisma
- **æ•°æ®åº“**: MySQL
- **è¯­è¨€**: TypeScript

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†å™¨**: pnpm (>=9.0.0)
- **ä»£ç è§„èŒƒ**: TypeScript Strict Mode

## ğŸ“‹ å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

### å¿…éœ€
- **Node.js**: >= 20.10.0 ([ä¸‹è½½åœ°å€](https://nodejs.org/))
- **pnpm**: >= 9.0.0
- **MySQL**: è¿è¡Œä¸­çš„ MySQL æ•°æ®åº“ï¼ˆXianCore æ’ä»¶ä½¿ç”¨çš„æ•°æ®åº“ï¼‰

### æ¨è
- **IDE**: VSCode / WebStorm
- **æµè§ˆå™¨**: Chrome / Edgeï¼ˆæœ€æ–°ç‰ˆï¼‰

### å®‰è£… pnpm

```bash
npm install -g pnpm
```

### éªŒè¯å®‰è£…

```bash
node --version   # åº”è¯¥æ˜¾ç¤º >= v20.10.0
pnpm --version   # åº”è¯¥æ˜¾ç¤º >= 9.0.0
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1ï¸âƒ£ å…‹éš†æˆ–è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd D:/workspace/java/mc/frxx/xiancore-dashboard
```

### 2ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
pnpm install
```

è¿™å°†å®‰è£…é¡¹ç›®æ ¹ç›®å½•ä»¥åŠ `packages/backend` å’Œ `packages/frontend` çš„æ‰€æœ‰ä¾èµ–ã€‚

### 3ï¸âƒ£ é…ç½®æ•°æ®åº“è¿æ¥

åç«¯çš„ç¯å¢ƒå˜é‡æ–‡ä»¶å·²ç»åˆ›å»ºåœ¨ `packages/backend/.env`ï¼š

```env
# æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
DATABASE_URL="mysql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å"

# ç¤ºä¾‹ï¼ˆæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰
DATABASE_URL="mysql://securityuser:security123@localhost:3306/xiancore"

# æœåŠ¡å™¨ç«¯å£
PORT=8400

# è¿è¡Œç¯å¢ƒ
NODE_ENV=development

# CORS å…è®¸çš„æ¥æº
CORS_ORIGIN=http://localhost:5173
```

**é‡è¦**ï¼šè¯·æ ¹æ®ä½ çš„ MySQL é…ç½®ä¿®æ”¹ `DATABASE_URL`

### 4ï¸âƒ£ ç”Ÿæˆ Prisma Client

```bash
pnpm prisma:generate
```

è¿™å°†æ ¹æ® `packages/backend/prisma/schema.prisma` ç”Ÿæˆ Prisma å®¢æˆ·ç«¯ä»£ç ã€‚

### 5ï¸âƒ£ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

#### æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆæ¨èï¼‰

```bash
pnpm dev
```

#### æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨

```bash
# ç»ˆç«¯ 1 - å¯åŠ¨åç«¯
pnpm dev:backend

# ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯
pnpm dev:frontend
```

### 6ï¸âƒ£ è®¿é—®åº”ç”¨

- **å‰ç«¯é¡µé¢**: http://localhost:5173
- **åç«¯ API**: http://localhost:8400
- **å¥åº·æ£€æŸ¥**: http://localhost:8400/health

## ğŸ“ é¡¹ç›®ç»“æ„

```
xiancore-dashboard/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”‚   â””â”€â”€ schema.prisma       # Prisma æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ prisma.ts       # Prisma Client å®ä¾‹
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ response.ts     # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ player.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sect.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ routes/             # è·¯ç”±å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts        # è·¯ç”±æ±‡æ€»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ player.routes.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sect.routes.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts            # å…¥å£æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆå·²åˆ›å»ºï¼‰
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â””â”€â”€ frontend/                   # å‰ç«¯åº”ç”¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ api/                # API æ¥å£å°è£…
â”‚       â”‚   â”‚   â”œâ”€â”€ player.ts
â”‚       â”‚   â”‚   â””â”€â”€ sect.ts
â”‚       â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚       â”‚   â”‚   â””â”€â”€ BasicLayout.vue
â”‚       â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚       â”‚   â”‚   â””â”€â”€ request.ts      # Axios å°è£…
â”‚       â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚       â”‚   â”‚   â”œâ”€â”€ Dashboard.vue   # ä»ªè¡¨ç›˜
â”‚       â”‚   â”‚   â”œâ”€â”€ Players.vue     # ç©å®¶ç®¡ç†
â”‚       â”‚   â”‚   â””â”€â”€ Sects.vue       # å®—é—¨ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ router/
â”‚       â”‚   â”‚   â””â”€â”€ index.ts        # è·¯ç”±é…ç½®
â”‚       â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚       â”‚   â””â”€â”€ main.ts             # å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ index.html
â”‚       â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ package.json                    # Monorepo æ ¹é…ç½®
â”œâ”€â”€ pnpm-workspace.yaml             # pnpm workspace é…ç½®
â””â”€â”€ README.md
```

## ğŸ“œ å¯ç”¨å‘½ä»¤

### æ ¹ç›®å½•å‘½ä»¤

```bash
# å¼€å‘
pnpm dev              # åŒæ—¶å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
pnpm dev:backend      # ä»…å¯åŠ¨åç«¯
pnpm dev:frontend     # ä»…å¯åŠ¨å‰ç«¯

# æ„å»º
pnpm build            # æ„å»ºå‰åç«¯ç”Ÿäº§ç‰ˆæœ¬
pnpm build:backend    # ä»…æ„å»ºåç«¯
pnpm build:frontend   # ä»…æ„å»ºå‰ç«¯

# ç±»å‹æ£€æŸ¥
pnpm typecheck        # è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥

# æ¸…ç†
pnpm clean            # æ¸…ç†æ‰€æœ‰æ„å»ºäº§ç‰©å’Œ node_modules

# Prisma ç›¸å…³
pnpm prisma:generate  # ç”Ÿæˆ Prisma Client
pnpm prisma:migrate   # è¿è¡Œæ•°æ®åº“è¿ç§»
pnpm prisma:studio    # æ‰“å¼€ Prisma Studioï¼ˆæ•°æ®åº“å¯è§†åŒ–å·¥å…·ï¼‰
```

### åç«¯å‘½ä»¤

```bash
cd packages/backend

pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
pnpm build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm typecheck        # ç±»å‹æ£€æŸ¥
```

### å‰ç«¯å‘½ä»¤

```bash
cd packages/frontend

pnpm dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm preview          # é¢„è§ˆç”Ÿäº§æ„å»º
pnpm typecheck        # ç±»å‹æ£€æŸ¥
```

## ğŸ”Œ API æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8400/api`
- **å“åº”æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

### ç»Ÿä¸€å“åº”æ ¼å¼

```typescript
{
  code: number;      // 0 = æˆåŠŸï¼Œå…¶ä»– = é”™è¯¯ç 
  message: string;   // å“åº”æ¶ˆæ¯
  data?: any;        // å“åº”æ•°æ®ï¼ˆå¯é€‰ï¼‰
}
```

### ç©å®¶ç›¸å…³ API

#### è·å–æ‰€æœ‰ç©å®¶
```
GET /api/players
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "uuid": "550e8400-e29b-41d4-a716-446655440000",
      "name": "ç©å®¶åç§°",
      "realm": "é‡‘ä¸¹æœŸ",
      "realmStage": 3,
      "playerLevel": 50,
      "qi": 100000,
      "spiritualRoot": 0.85,
      "spiritualRootType": "å¤©çµæ ¹"
    }
  ]
}
```

#### è·å–ç©å®¶æ’è¡Œæ¦œ
```
GET /api/players/ranking?limit=10
```

**å‚æ•°**:
- `limit` (å¯é€‰): è¿”å›æ•°é‡ï¼Œé»˜è®¤ 10

#### è·å–ç©å®¶è¯¦æƒ…
```
GET /api/players/:uuid
```

**å‚æ•°**:
- `uuid`: ç©å®¶ UUID

### å®—é—¨ç›¸å…³ API

#### è·å–æ‰€æœ‰å®—é—¨
```
GET /api/sects
```

#### è·å–å®—é—¨æ’è¡Œæ¦œ
```
GET /api/sects/ranking?limit=10
```

**å‚æ•°**:
- `limit` (å¯é€‰): è¿”å›æ•°é‡ï¼Œé»˜è®¤ 10

#### è·å–å®—é—¨è¯¦æƒ…
```
GET /api/sects/:id
```

**å‚æ•°**:
- `id`: å®—é—¨ ID

### ç³»ç»Ÿ API

#### å¥åº·æ£€æŸ¥
```
GET /health
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "status": "ok",
  "timestamp": 1765606937754
}
```

## ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

### ä»£ç é£æ ¼

#### å‘½åè§„èŒƒ
- **æ–‡ä»¶å**: kebab-case (`player-service.ts`)
- **ç»„ä»¶å**: PascalCase (`BasicLayout.vue`)
- **å˜é‡/å‡½æ•°**: camelCase (`fetchPlayers`)
- **ç±»å‹/æ¥å£**: PascalCase (`Player`, `ApiResponse`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (`API_BASE_URL`)

#### ç»„ä»¶è§„èŒƒ
- ä½¿ç”¨ `<script setup lang="ts">` è¯­æ³•
- ä½¿ç”¨ Composition API
- Props å’Œ Emits éœ€è¦å®šä¹‰ç±»å‹

#### API è¯·æ±‚è§„èŒƒ
- ä½¿ç”¨ async/await
- ç»Ÿä¸€ä½¿ç”¨ `@/api` ä¸‹çš„æ¥å£
- é”™è¯¯å¤„ç†ç”± Axios æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†

### æ·»åŠ æ–°åŠŸèƒ½

#### 1. åç«¯æ·»åŠ æ–° API

```typescript
// 1. åœ¨ services/ åˆ›å»º Service
// packages/backend/src/services/example.service.ts
import prisma from '@/lib/prisma';

export class ExampleService {
  async getData() {
    return await prisma.example.findMany();
  }
}

export default new ExampleService();

// 2. åœ¨ routes/ åˆ›å»º Routes
// packages/backend/src/routes/example.routes.ts
import { Router } from 'express';
import exampleService from '@/services/example.service';
import { success, error } from '@/lib/response';

const router = Router();

router.get('/', async (req, res) => {
  try {
    const data = await exampleService.getData();
    return success(res, data);
  } catch (err: any) {
    return error(res, err.message);
  }
});

export default router;

// 3. åœ¨ routes/index.ts æ³¨å†Œè·¯ç”±
import exampleRoutes from './example.routes';
router.use('/examples', exampleRoutes);
```

#### 2. å‰ç«¯æ·»åŠ æ–°é¡µé¢

```vue
<!-- packages/frontend/src/views/Example.vue -->
<template>
  <div class="example-container">
    <el-card>
      <template #header>
        <span>ç¤ºä¾‹é¡µé¢</span>
      </template>
      <!-- é¡µé¢å†…å®¹ -->
    </el-card>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

const data = ref([]);

const fetchData = async () => {
  // è°ƒç”¨ API
};

onMounted(() => {
  fetchData();
});
</script>
```

```typescript
// packages/frontend/src/router/index.ts
{
  path: 'example',
  name: 'Example',
  component: () => import('@/views/Example.vue'),
  meta: {
    title: 'ç¤ºä¾‹é¡µé¢',
  },
}
```

### æ•°æ®åº“æ“ä½œ

ä½¿ç”¨ Prisma Studio å¯è§†åŒ–ç®¡ç†æ•°æ®åº“ï¼š

```bash
pnpm prisma:studio
```

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ http://localhost:5555

### è°ƒè¯•æŠ€å·§

#### åç«¯è°ƒè¯•
- ä½¿ç”¨ `console.log` è¾“å‡ºåˆ°ç»ˆç«¯
- è¯·æ±‚æ—¥å¿—ä¼šè‡ªåŠ¨æ‰“å°ï¼ˆåŒ…å«æ—¶é—´ã€æ–¹æ³•ã€è·¯å¾„ï¼‰

#### å‰ç«¯è°ƒè¯•
- ä½¿ç”¨ Vue DevTools æµè§ˆå™¨æ’ä»¶
- åœ¨æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹ Network è¯·æ±‚

## â“ å¸¸è§é—®é¢˜

### Q1: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**åç«¯ç«¯å£ (8400) è¢«å ç”¨**:
```bash
# Windows
netstat -ano | findstr ":8400"
taskkill //F //PID <è¿›ç¨‹ID>

# æˆ–è€…ä¿®æ”¹ packages/backend/.env
PORT=8401
```

**å‰ç«¯ç«¯å£ (5173) è¢«å ç”¨**:
```bash
# ä¿®æ”¹ packages/frontend/vite.config.ts
server: {
  port: 5174,
}
```

### Q2: Prisma Client ç”Ÿæˆå¤±è´¥ï¼Ÿ

```bash
# æ¸…ç†ç¼“å­˜åé‡è¯•
rm -rf node_modules/.pnpm/@prisma
pnpm install
pnpm prisma:generate
```

### Q3: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ

æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. MySQL æœåŠ¡æ˜¯å¦è¿è¡Œ
2. `.env` ä¸­çš„ `DATABASE_URL` æ˜¯å¦æ­£ç¡®
3. æ•°æ®åº“ç”¨æˆ·æ˜¯å¦æœ‰æƒé™
4. é˜²ç«å¢™æ˜¯å¦é˜»æ­¢è¿æ¥

### Q4: å‰ç«¯æ— æ³•è®¿é—®åç«¯ APIï¼Ÿ

1. æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼ˆè®¿é—® http://localhost:8400/healthï¼‰
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ Network è¯·æ±‚
3. ç¡®è®¤ Vite ä»£ç†é…ç½®æ­£ç¡®ï¼ˆ`vite.config.ts`ï¼‰

### Q5: å¦‚ä½•é‡ç½®æ•°æ®åº“ï¼Ÿ

```bash
# âš ï¸ è­¦å‘Šï¼šè¿™å°†åˆ é™¤æ‰€æœ‰æ•°æ®ï¼
pnpm prisma:migrate reset
```

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ï¼špnpm install é€Ÿåº¦æ…¢

**è§£å†³æ–¹æ¡ˆ**:
```bash
# è®¾ç½®å›½å†…é•œåƒ
pnpm config set registry https://registry.npmmirror.com
```

### é—®é¢˜ï¼šTypeScript æŠ¥é”™ä½†ä»£ç èƒ½è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°ç”Ÿæˆç±»å‹å£°æ˜
pnpm prisma:generate

# é‡å¯ IDE çš„ TypeScript æœåŠ¡å™¨
# VSCode: Ctrl+Shift+P -> "TypeScript: Restart TS Server"
```

### é—®é¢˜ï¼šå‰ç«¯é¡µé¢ç©ºç™½

**è§£å†³æ–¹æ¡ˆ**:
1. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯
2. æ£€æŸ¥åç«¯ API æ˜¯å¦æ­£å¸¸
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ååˆ·æ–°

### é—®é¢˜ï¼šElement Plus ç»„ä»¶æœªè‡ªåŠ¨å¯¼å…¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åˆ é™¤è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹æ–‡ä»¶
rm -rf packages/frontend/src/types/auto-imports.d.ts
rm -rf packages/frontend/src/types/components.d.ts

# é‡å¯å¼€å‘æœåŠ¡å™¨
pnpm dev:frontend
```

## ğŸ“š æ•°æ®åº“è¡¨è¯´æ˜

é¡¹ç›®ä½¿ç”¨ Prisma ORM æ˜ å°„ XianCore æ’ä»¶çš„ MySQL æ•°æ®åº“è¡¨ï¼š

| è¡¨å | è¯´æ˜ | Prisma Model |
|-----|------|--------------|
| xian_players | ç©å®¶åŸºç¡€æ•°æ® | XianPlayer |
| xian_player_skills | ç©å®¶åŠŸæ³• | XianPlayerSkill |
| xian_player_equipment | ç©å®¶è£…å¤‡ | XianPlayerEquipment |
| xian_player_skill_binds | ç©å®¶æŠ€èƒ½ç»‘å®š | XianPlayerSkillBind |
| xian_sects | å®—é—¨æ•°æ® | XianSect |
| xian_sect_members | å®—é—¨æˆå‘˜ | XianSectMember |
| xian_sect_facilities | å®—é—¨è®¾æ–½ | XianSectFacility |
| xian_sect_warehouses | å®—é—¨ä»“åº“ | XianSectWarehouse |
| xian_tribulations | å¤©åŠ«æ•°æ® | XianTribulation |

è¯¦ç»†çš„è¡¨ç»“æ„å®šä¹‰è¯·æŸ¥çœ‹ `packages/backend/prisma/schema.prisma`

## ğŸš¢ ç”Ÿäº§éƒ¨ç½²

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºå‰åç«¯
pnpm build

# æ„å»ºäº§ç‰©ä½ç½®
# åç«¯: packages/backend/dist/
# å‰ç«¯: packages/frontend/dist/
```

### å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

```bash
# åç«¯
cd packages/backend
node dist/index.js

# å‰ç«¯éœ€è¦ä½¿ç”¨ Nginx æˆ–å…¶ä»– Web æœåŠ¡å™¨æ‰˜ç®¡ dist/ ç›®å½•
```

### ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ï¼‰

```env
DATABASE_URL="mysql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å"
PORT=8400
NODE_ENV=production
CORS_ORIGIN=https://ä½ çš„åŸŸå.com
```

## ğŸ“„ License

MIT

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š
- âœ… ä»£ç é€šè¿‡ TypeScript ç±»å‹æ£€æŸ¥
- âœ… éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
- âœ… æµ‹è¯•æ–°åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

**é¡¹ç›®åˆ›å»ºæ—¥æœŸ**: 2025-12-13
**ç»´æŠ¤è€…**: XianCore Team
